
# API Testing for Yandex Samokat Service

## Описание

Этот проект представляет собой набор автоматизированных тестов для проверки API учебного сервиса Яндекс Самокат.
Тесты написаны на Python с использованием библиотеки `pytest` и поддерживают генерацию отчетов в формате Allure.

Проект включает тестирование следующих аспектов:

1. **Создание курьера**:
   - Курьера можно создать.
   - Нельзя создать двух одинаковых курьеров.
   - Для создания курьера необходимо передать все обязательные поля.
   - Запросы возвращают правильные коды ответов.
   - Успешный запрос возвращает `{"ok": true}`.
   - Если отсутствует обязательное поле, запрос возвращает ошибку.
   - Если логин уже существует, возвращается ошибка.

2. **Логин курьера**:
   - Курьер может авторизоваться.
   - Для авторизации необходимо передать все обязательные поля.
   - Система возвращает ошибку при неправильном логине или пароле.
   - Система возвращает ошибку, если авторизоваться под несуществующим пользователем.
   - Успешный запрос возвращает `id`.

3. **Создание заказа**:
   - Можно указать один из цветов — `BLACK` или `GREY`.
   - Можно указать оба цвета.
   - Можно не указывать цвет.
   - Тело ответа содержит `track`.

4. **Список заказов**:
   - Проверяется, что в теле ответа возвращается список заказов.

5. **Удаление курьера** (дополнительное задание):
   - Курьера можно удалить.
   - Система возвращает ошибку, если ID курьера не указан или указан неверно.

## Установка и настройка

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/CRASH3000/Sprint_7.git
   ```

   ```bash
   cd Sprint_7
   ```

2. Создайте и активируйте виртуальное окружение:

   ```bash
   python -m venv .venv

   ```

   ```bash
   source .venv/bin/activate
   ```

3. Установите зависимости:

   ```bash
   pip install -r requirements.txt
   ```

## Запуск тестов

### Запуск тестов с генерацией отчета Allure

1. Запустите тесты и сохраните результаты в формате Allure:

   ```bash
   PYTHONPATH=$(pwd) pytest --alluredir=allure-results
   ```

2. Сгенерируйте и откройте отчет Allure:

   ```bash
   allure serve allure-results
   ```


### Запуск тестов без Allure

Если вам не требуется отчет Allure, просто запустите тесты:

```bash
pytest
```

### Структура проекта

	•	API-tests/: Тесты для проверки API.
	•	data/: Вспомогательные модули и данные.
	•	allure-results/: Результаты тестов для Allure.
	•	README.md: Описание проекта и инструкции.
	•	requirements.txt: Список зависимостей.

